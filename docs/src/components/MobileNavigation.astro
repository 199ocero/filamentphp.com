---
import Logo from '@components/Logo.astro'
import Navigation from '@components/Navigation.astro'
import { Icon } from 'astro-icon';

const { navigation } = Astro.props;
---

<div x-data class="flex items-center">
  <button
    type="button"
    class="relative"
    aria-label="Open navigation"
    x-on:click="$refs.panel.toggle"
  >
    <Icon name="menu-icon" class="h-6 w-6 stroke-slate-500" />
  </button>
  <div
    x-ref="panel"
    class="fixed !inset-0 z-50 flex items-start overflow-y-auto pr-10 lg:hidden"
    x-float.flip.teleport
    aria-label="Navigation"
    x-on:scroll="document.querySelector('body').classList.add('overflow-hidden')"
  >
    <div class="bg-slate-900/50 pr-10 backdrop-blur fixed inset-0 z-0 pointer-events-none"></div>
    <div class="min-h-full w-full max-w-xs bg-white px-4 pt-5 pb-12 dark:bg-slate-900 sm:px-6 relative z-10 shadow-lg dark:shadow-black">
      <div class="flex items-center">
        <button
          type="button"
          aria-label="Close navigation"
        >
          <Icon name="close-icon" class="h-6 w-6 stroke-slate-500" />
        </button>
        <a href="/docs/" class="ml-6" aria-label="Home page">
          <Logo class="h-6 w-auto fill-slate-700 dark:fill-amber-500 md:h-7" />
        </a>
      </div>
      <div class="mt-5 px-1" x-on:click.away="$refs.panel.toggle">
        <Navigation navigation={navigation} />
      </div>
    </div>
  </div>
</div>